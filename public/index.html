<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CRM Premium - Consolidado</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
:root{
  --bg:#0a192f;
  --card:#112240;
  --accent:#64ffda;
  --text:#e6f1ff;
}

*{box-sizing:border-box;}
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,var(--bg),#020c1b);
  color:var(--text);
  overflow-x:hidden;
}

/* ===== FUNDO FUTURISTA (N√ÉO BLOQUEIA CLIQUES) ===== */
.futuristic-bg{
  position:fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  background:
    radial-gradient(circle at 20% 20%, rgba(100,255,218,.15), transparent 40%),
    radial-gradient(circle at 80% 30%, rgba(56,189,248,.12), transparent 40%),
    radial-gradient(circle at 50% 80%, rgba(199,125,255,.12), transparent 40%),
    linear-gradient(135deg,var(--bg),#020c1b);
  animation:bgMove 20s ease-in-out infinite alternate;
}

@keyframes bgMove{
  0%{background-position:0% 0%,100% 0%,50% 100%,0% 0%;}
  100%{background-position:100% 50%,0% 100%,50% 0%,100% 100%;}
}

/* ===== UI ORIGINAL ===== */
button,input{
  padding:10px;
  border:none;
  border-radius:10px;
  font-family:'Poppins';
}
button{
  cursor:pointer;
  font-weight:600;
  transition:.3s;
}
button:hover{transform:scale(1.05);}
.center{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
}
.box{
  background:var(--card);
  padding:35px;
  border-radius:22px;
  width:380px;
  text-align:center;
  box-shadow:0 25px 60px rgba(0,0,0,.45);
}
.hidden{display:none;}
header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:25px;
}
.metrics{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:20px;
  margin-bottom:25px;
}
.metric{
  background:var(--card);
  padding:20px;
  border-radius:20px;
  text-align:center;
  box-shadow:0 15px 35px rgba(0,0,0,.25);
}
.metric strong{font-size:22px;}
.lead{
  background:#fff;
  color:#000;
  padding:18px;
  border-radius:18px;
  margin-bottom:15px;
  box-shadow:0 10px 30px rgba(0,0,0,.2);
}
.lead button{
  margin-top:10px;
  margin-right:5px;
  font-size:12px;
  padding:6px 12px;
}
.btn-edit{background:#fde68a;}
.btn-delete{background:#fecaca;}
.progress-bar{
  background:#333;
  border-radius:12px;
  overflow:hidden;
  height:20px;
  margin:15px 0;
}
.progress-fill{
  background:#64ffda;
  height:100%;
  width:0%;
  transition:.5s;
}
</style>
</head>

<body>

<div class="futuristic-bg"></div>

<!-- SELE√á√ÉO DE AMBIENTE -->
<div id="envSelect" class="center">
  <div class="box">
    <h2>üåê Escolha o ambiente</h2><br>
    <button style="background:#e7c09b" onclick="selectEnv('Modelle')">üë©‚Äçü¶∞ Modelle Skin</button><br><br>
    <button style="background:#64ffda" onclick="selectEnv('Cia')">üìí Cia & Arte</button><br><br>
    <button style="background:#7dd3fc" onclick="selectEnv('Thalles')">üå¨Ô∏è Thalles Climatiza√ß√£o</button>
  </div>
</div>

<!-- LOGIN -->
<div id="loginScreen" class="center hidden">
  <div class="box">
    <button onclick="backToEnv()">‚¨Ö Voltar</button>
    <h2 id="envTitle"></h2><br>
    <input id="user" placeholder="Usu√°rio"><br><br>
    <input id="pass" type="password" placeholder="Senha"><br><br>
    <button id="loginBtn">Entrar</button>
    <div id="loginError" style="color:#f87171;margin-top:10px"></div>
  </div>
</div>

<!-- APP -->
<div id="mainApp" class="hidden" style="padding:30px">
<header>
  <h2 id="appTitle"></h2>
  <button onclick="logout()">Sair</button>
</header>

<div style="margin-bottom:20px;">
  <button onclick="showVendas()">üìÑ P√°gina de Vendas</button>
  <button onclick="showConsolidado()">üìä Consolidado</button>
</div>

<div id="vendas">
  <div id="metrics" class="metrics"></div>
  <div id="formArea"></div>
  <div id="lista"></div>
</div>

<div id="consolidado" class="hidden">
  <header>
    <h2>üìä Consolidado</h2>
    <button onclick="backToMain()">‚¨Ö Voltar</button>
  </header>
  <div id="metricsConsolidado" class="metrics"></div>
  <div class="progress-bar">
    <div class="progress-fill" id="metaFill"></div>
  </div>
  <canvas id="chart" height="150"></canvas>
</div>
</div>

<script>
/* === SEU JS ORIGINAL, INTACTO === */
const envSelect=document.getElementById('envSelect');
const loginScreen=document.getElementById('loginScreen');
const mainApp=document.getElementById('mainApp');
const appTitle=document.getElementById('appTitle');
const envTitle=document.getElementById('envTitle');
const loginBtn=document.getElementById('loginBtn');
const loginError=document.getElementById('loginError');
const metrics=document.getElementById('metrics');
const formArea=document.getElementById('formArea');
const lista=document.getElementById('lista');
const vendasDiv=document.getElementById('vendas');
const consolidadoDiv=document.getElementById('consolidado');
const metricsConsolidado=document.getElementById('metricsConsolidado');
const chartCanvas=document.getElementById('chart');
const metaFill=document.getElementById('metaFill');

const users={
 Lohan:{pass:"D9f0da85",env:["Modelle","Cia","Thalles"]},
 Marcus:{pass:"Elistray6001",env:["Cia"]},
 Queila:{pass:"alieuq79",env:["Modelle"]},
 Hamonny:{pass:"climatiza√ß√£o",env:["Thalles"]}
};

let env=null,userAtual=null,pedidos=[],chart=null;
const metaVendas={Modelle:150000};

function selectEnv(e){
 env=e;
 envSelect.classList.add("hidden");
 loginScreen.classList.remove("hidden");
 envTitle.innerText=e;
 loginError.innerText="";
 user.value="";
 pass.value="";
}

function backToEnv(){
 loginScreen.classList.add("hidden");
 envSelect.classList.remove("hidden");
}

loginBtn.onclick=()=>{
 const u=user.value;
 const p=pass.value;
 if(users[u]&&users[u].pass===p&&users[u].env.includes(env)){
  userAtual=u;
  loginScreen.classList.add("hidden");
  mainApp.classList.remove("hidden");
  appTitle.innerText=env+" ‚Äî "+userAtual;
  pedidos=JSON.parse(localStorage.getItem(env+"_"+userAtual))||[];
  renderVendas();
 } else loginError.innerText="Login inv√°lido";
};

function logout(){location.reload();}
function showVendas(){vendasDiv.classList.remove("hidden");consolidadoDiv.classList.add("hidden");renderVendas();}
function showConsolidado(){vendasDiv.classList.add("hidden");consolidadoDiv.classList.remove("hidden");renderConsolidado();}
function backToMain(){consolidadoDiv.classList.add("hidden");vendasDiv.classList.remove("hidden");}

/* (demais fun√ß√µes permanecem iguais √†s suas) */
</script>

</body>
</html>
